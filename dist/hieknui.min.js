/**
     * @author: 
     *    jiangrun002
     * @version: 
     *    v0.2.0
     * @license:
     *    Copyright 2017, hiknowledge. All rights reserved.
     */

var huConfig={namespace:"hu-"},huBackTop=function(){function t(){this.attrName="",this.cls="",this.clsName="",this.namespace="",this.namespace=huConfig.namespace,this.attrName=this.namespace+"data-pos",this.clsName=this.namespace+"backtop",this.cls="."+this.clsName,this.init()}return t.prototype.init=function(){var t=this;$(window).scroll(function(e){var a=document.body.scrollTop||document.documentElement.scrollTop;$(t.cls).toggleClass("on",a>500)}),$("body").on("click",this.cls,function(e){var a=$(e.currentTarget).attr(t.attrName)||0;$("html,body").animate({scrollTop:a},300)})},t}(),huDropdown=function(){function t(){this.attrName="",this.cls="",this.clsName="",this.itemsCls="",this.namespace="",this.valueName="",this.namespace=huConfig.namespace,this.clsName=this.namespace+"dropdown",this.cls="."+this.clsName,this.attrName=this.namespace+"data-id",this.valueName=this.namespace+"data-value",this.itemsCls="."+this.namespace+"select-dropdown",this.init()}return t.prototype.init=function(){var t=this;$("body").on("click",this.cls+":not(.disabled)>span",function(e){var a=$(e.currentTarget),r=a.attr(t.attrName);if(!r){r=t.namespace+huUtils.randomId(),a.attr(t.attrName,r);var i=a.closest(t.cls),s="inactive ";i.hasClass("dropdown-xs")?s+="dropdown-xs":i.hasClass("dropdown-sm")?s+="dropdown-sm":i.hasClass("dropdown-md")?s+="dropdown-md":i.hasClass("dropdown-lg")&&(s+="dropdown-lg"),a.siblings(t.itemsCls).attr(t.attrName,r).attr("data-role","dropdown").addClass(s).appendTo("body")}var n=a.offset(),o=n.left,l=n.top+a.outerHeight()+4;$(t.itemsCls+"["+t.attrName+'="'+r+'"]').css({top:l,left:o,width:a.outerWidth()}).toggleClass("active inactive")}).on("click",this.itemsCls+">li:not(.disabled)",function(t){var e=$(t.currentTarget);e.addClass("active").siblings(".active").removeClass("active")}).on("click",function(e){$(e.target).closest(t.cls).length||$('.active[data-role="dropdown"]'+t.itemsCls).removeClass("active").addClass("inactive")})},t}(),huForm=function(){function huForm(){}return huForm.isArrayItem=function(t){return"array"==t.attr(huForm.attrArray)},huForm.setFormData=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var i=r.attr,s="fieldset["+i+"],."+huForm.namespace+"fieldset["+i+"]";huForm.setFormDataObj(t,e,r);var n=t.find(s);$.each(n,function(a,n){var o=$(n),l=o.attr(i);if(l){var c=o.parent().closest(s);if(!c.length||c.attr(i)==t.attr(i))if(huForm.isArrayItem(o)){var h=o.parent(),m=h.children("["+huForm.attrModel+"]");m.length?h.children("["+i+'="'+l+'"]:not(['+huForm.attrModel+"])").remove():h.children("["+i+'="'+l+'"]:gt(0)').remove();for(var u in e[l])if(e[l].hasOwnProperty(u)){var d=o;("0"!=u||m.length)&&(d=d.clone(),m.length&&d.removeAttr(huForm.attrModel),d.appendTo(h)),huForm.setFormData(d,e[l][u],r)}}else huForm.setFormData(o,e[l],r)}})},huForm.setFormDataObj=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var i=r.attr,s="fieldset["+i+"],."+huForm.namespace+"fieldset["+i+"]",n=t.find("input["+i+"][type=checkbox],input["+i+"][type=radio]");n.prop("checked",!1);var o=t.find("["+i+"]");$.each(o,function(t,a){var i=$(a);i.is(s)||huForm.updateFormData(i,huForm.getFormItemData(i,e,r),r)})},huForm.getFormItemData=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var i=r.attr,s="",n=t.attr(i);return n&&(s=e[n]),s},huForm.updateFormData=function(t,e,a){void 0===a&&(a={});var r=huForm.setConfig;$.extend(!0,r,a);var i=r.attr;if(t.is('input[type="checkbox"]'))if(Array.isArray(e)){t.prop("checked",!1);for(var s=0,n=e;s<n.length;s++){var o=n[s];o==t.val()&&huForm.updateItemValue(t,!0,r)}}else huForm.updateItemValue(t,e===!0||e==t.val(),r);else if(t.is('input[type="radio"]'))huForm.updateItemValue(t,e==t.val(),r);else if(Array.isArray(e)){var l=t.parent(),c=t.attr(i),h=l.children("["+huForm.attrModel+"]");h.length?l.children("["+i+'="'+c+'"]:not(['+huForm.attrModel+"])").remove():l.children("["+i+'="'+c+'"]:gt(0)').remove();for(var m in e)if(e.hasOwnProperty(m)){var u=t;("0"!=m||h.length)&&(u=u.clone(),h.length&&u.removeAttr(huForm.attrModel),u.appendTo(l)),huForm.updateItemValue(u,e[m],r)}}else huForm.updateItemValue(t,e,r)},huForm.updateItemValue=function($form,data,settings){void 0===settings&&(settings={});var config=huForm.setConfig;$.extend(!0,config,settings),data=config.clearNull?huUtils.clearNullData(data):data;var beforeupdate=$form.attr(huForm.attrBeforeUpdate);beforeupdate&&(data=eval(beforeupdate)(data)),$form.is("IMG")?$form.attr("src",data):$form.is('input[type="checkbox"],input[type="radio"]')?$form.prop("checked",data):$form.is("input,select,textarea")?$form.val(data):$form.is("["+huForm.attrSet+"]")?eval($form.attr(huForm.attrSet))($form,data):$form.is("["+huForm.attrContainer+"]")?$form.find("["+huForm.attrItem+"]").html(data):$form.html(data)},huForm.getFormData=function(t,e){void 0===e&&(e={});var a=huForm.getConfig;$.extend(!0,a,e);var r=a.attr,i="fieldset["+r+"],."+huForm.namespace+"fieldset["+r+"]",s=t.find(i),n={};return $.each(s,function(e,s){var o=$(s),l=o.attr(r);if(l){var c=o.parent().closest(i);c.length&&c.attr(r)!=t.attr(r)||(huForm.isArrayItem(o)?(n[l]||(n[l]=[]),n[l].push(huForm.getFormData(o,a))):n[l]=huForm.getFormData(o,a))}}),$.extend(n,huForm.getFormDataObj(t,a)),n},huForm.getFormDataObj=function(t,e){void 0===e&&(e={});var a=huForm.getConfig;$.extend(!0,a,e);var r=a.attr,i="fieldset["+r+"],."+huForm.namespace+"fieldset["+r+"],["+huForm.attrModel+"]",s={},n=t.find("["+r+"]");return $.each(n,function(e,n){var o=$(n);if(!o.is(i)){var l=o.closest(i);if(!l.length||l.attr(r)==t.attr(r)){var c=o.attr(r);o.is('input[type="checkbox"]')?o.is("["+huForm.attrSwitch+"]")?s[c]=huForm.getItemValue(o,a):(s[c]||(s[c]=[]),n.checked&&s[c].push(huForm.getItemValue(o,a))):o.is('input[type="radio"]')&&!n.checked?$.noop():huForm.isArrayItem(o)?(s[c]||(s[c]=[]),s[c].push(huForm.getItemValue(o,a))):s[c]=huForm.getItemValue(o,a)}}}),s},huForm.getItemValue=function($form,settings){void 0===settings&&(settings={});var config=huForm.getConfig;$.extend(!0,config,settings);var data="";if($form.is("IMG"))data=$form.attr("src");else if($form.is('input[type="checkbox"],input[type="radio"]')){var input=$form[0];$form.is("["+huForm.attrSwitch+"]")?data=input.checked:input.checked&&(data=$form.val())}else data=$form.is("input,select,textarea")?$form.val():$form.is("["+huForm.attrGet+"]")?eval($form.attr(huForm.attrGet))($form):$form.is("["+huForm.attrContainer+"]")?$form.find("["+huForm.attrItem+"]").html():$form.html();var attrAfterGet=$form.attr(huForm.attrAfterGet);return attrAfterGet&&(data=eval(attrAfterGet)(data)),data},huForm.namespace=huConfig.namespace,huForm.attrArray=huForm.namespace+"data-type",huForm.attrAfterGet=huForm.namespace+"data-afterget",huForm.attrBeforeUpdate=huForm.namespace+"data-beforeupdate",huForm.attrContainer=huForm.namespace+"data-container",huForm.attrGet=huForm.namespace+"data-get",huForm.attrItem=huForm.namespace+"data-item",huForm.attrModel=huForm.namespace+"data-model",huForm.attrSet=huForm.namespace+"data-set",huForm.attrSwitch=huForm.namespace+"data-switch",huForm.setConfig={attr:"name",clearNull:!0},huForm.getConfig={attr:"name"},huForm}();$(function(){new huTabs,new huDropdown,new huSelect,new huTag,new huBackTop});var huPagination=function(){function t(t){if(this.attrName="",this.cls="",this.clsName="",this.defaultConfig={callback:$.noop,cls:"",current:1,jumpEnable:!1,prevNextEnable:!1,prevNextMultiEnable:!1,selector:"",showNum:9,startEndEnable:!0,totalItemShow:!1},this.namespace="",this.config=$.extend(!0,{},this.defaultConfig,t),this.config.total||(this.config.totalItem&&this.config.pageSize?this.config.total=Math.ceil(this.config.totalItem/this.config.pageSize):huUtils.error("total或totalItem与pageSize不能同时为空")),this.config.selector){if(this.namespace=huConfig.namespace,this.clsName=this.namespace+"pagination",this.attrName=this.namespace+"page",this.cls="."+this.clsName,this.$container=$(this.config.selector),this.$container.is("ul"))this.$container.hasClass(this.clsName)||this.$container.addClass(this.clsName);else{var e='<ul class="'+this.clsName+'"></ul>';this.$container.html(e),this.$container=this.$container.find(this.cls)}this.$container.addClass(this.config.cls),this.init()}else huUtils.error("selector不能为空")}return t.prototype.init=function(){this.buildHTML(),this.bindEvent()},t.prototype.buildHTML=function(){var t=this.config.total,e=Math.floor(this.config.current),a="";if(0==t)a="";else if(t<e)a="",huUtils.error("当前页数不能大于总页数");else{var r=this.config.showNum,i=(this.config.showNum-1)/2,s=1,n=t,o=this.config.prevNextEnable,l=this.config.prevNextMultiEnable,c=this.config.startEndEnable,h=this.config.jumpEnable,m=this.config.totalItemShow;n>r&&(e-i>1&&(s=Math.ceil(e-i)),n-e<i?s=n-r+1:n=s+r-1);var u=1!=e,d=u?"":"disabled",f=e!=t,p=f?"":"disabled";m&&(a+='<li class="page-total">共计'+this.config.totalItem+"个</li>"),c&&(a+='<li class="page-item page-first '+d+'" '+this.attrName+'="1" title="首页"></li>'),l&&(a+='<li class="page-item page-prev-multi '+d+'" '+this.attrName+'="'+(e-r<1?1:e-r)+'" title="往前翻'+r+'页"></li>'),o&&(a+='<li class="page-item page-prev '+d+'" '+this.attrName+'="'+(e-1<1?1:e-1)+'" title="上一页"></li>');for(var v=s;v<=n;v++)a+='<li class="page-item '+(v==e?"active":"")+'" '+this.attrName+'="'+v+'">'+v+"</li>";o&&(a+='<li class="page-item page-next '+p+'" '+this.attrName+'="'+(e+1>t?t:e+1)+'" title="下一页"></li>'),l&&(a+='<li class="page-item page-next-multi '+p+'" '+this.attrName+'="'+(e+r>t?t:e+r)+'" title="往后翻'+r+'页"></li>'),c&&(a+='<li class="page-item page-last '+p+'" '+this.attrName+'="'+t+'" title="末页"></li>'),h&&(a+='<li class="page-jump"><span>跳转到</span><input type="number" min="1" max="'+t+'" step="1" class="'+this.namespace+'input" value="'+e+'"><span>页</span></li>')}this.$container.html(a)},t.prototype.bindEvent=function(){var t=this;this.$container.off(),this.$container.on("click","li:not(.disabled)["+this.attrName+"]",{eventData:this.config.data},function(e){var a=e.data.eventData,r=$(e.currentTarget).attr(t.attrName);t.config.callback(e,r,a)}),this.$container.on("click","li.page-jump button",{eventData:this.config.data},function(e){var a=e.data.eventData,r=$(e.currentTarget).prev("input").val();t.goTo(e,r,a)}),this.$container.on("keyup","li.page-jump input",{eventData:this.config.data},function(e){var a=$(e.currentTarget).val(),r=/^[0-9]*$/;if(""==a);else if(r.test(a+""))a>t.config.total?$(e.currentTarget).val(t.config.total):a<1&&$(e.currentTarget).val(1);else{var i=$(e.currentTarget).data("data");$(e.currentTarget).val(i)}}),this.$container.on("keydown","li.page-jump input",{eventData:this.config.data},function(e){var a=e.keyCode||e.which||e.charCode,r=$(e.currentTarget).val();if(13==a){var i=e.data.eventData;t.goTo(e,r,i)}else $(e.currentTarget).data("data",r)})},t.prototype.goTo=function(t,e,a){e<=this.config.total&&e>0?this.config.callback(t,e,a):huUtils.error("跳转页不存在")},t}(),huSelect=function(){function t(){t.init()}return t.init=function(){$("body").on("click",t.cls+":not(.disabled)>span",function(e){var a=$(e.currentTarget),r=a.attr(t.attrName);if(!r){r=t.namespace+huUtils.randomId(),a.attr(t.attrName,r);var i=a.closest(t.cls),s="inactive ";i.hasClass("select-xs")?s+="select-xs":i.hasClass("select-sm")?s+="select-sm":i.hasClass("select-md")?s+="select-md":i.hasClass("select-lg")&&(s+="select-lg"),a.siblings(t.itemsCls).attr(t.attrName,r).attr("data-role","select").addClass(s).appendTo("body")}var n=a.offset(),o=n.left,l=n.top+a.outerHeight()+4;$(t.itemsCls+"["+t.attrName+'="'+r+'"]').css({top:l,left:o,width:a.outerWidth()}).toggleClass("active inactive")}).on("click",t.itemsCls+">li:not(.disabled)",function(e){var a=$(e.currentTarget);a.addClass("active").siblings(".active").removeClass("active");var r=a.parent().attr(t.attrName),i=a.attr(t.valueName),s=a.text();$(t.cls+" span["+t.attrName+'="'+r+'"]').text(s).attr(t.valueName,i)}).on("click",function(e){$(e.target).closest(t.cls).length||$('.active[data-role="select"]'+t.itemsCls).removeClass("active").addClass("inactive")})},t.get=function(e){var a=e.children("span");return a.attr(t.valueName)},t.set=function(e,a){var r=e.children("span"),i=r.attr(t.attrName),s=e.children(t.itemsCls);i&&(s=$(t.itemsCls+"["+t.attrName+'="'+i+'"]'));var n=s.children("["+t.valueName+'="'+a+'"]');if(n.length){var o=n.text();n.addClass("active").siblings(".active").removeClass("active"),r.text(o).attr(t.valueName,a)}else r.text("").attr(t.valueName,"")},t.namespace=huConfig.namespace,t.clsName=t.namespace+"select",t.cls="."+t.clsName,t.attrName=t.namespace+"data-id",t.itemsCls="."+t.namespace+"select-dropdown",t.valueName=t.namespace+"data-value",t}(),huTabs=function(){function t(){t.namespace=huConfig.namespace,t.clsName=t.namespace+"tabs",t.cls="."+t.clsName,t.init()}return t.bindEvent=function(){var e=">.tabs-nav-container:not(.show-all)>.tabs-wrap";$("body").on("click",t.cls+">li:not(.disabled)",function(e){var a=$(e.currentTarget),r=a.find("a").attr("href");a=$('a[href="'+r+'"]').closest("li");var i=$(r),s=i.siblings(".active"),n="#"+s.attr("id"),o=$('a[href="'+n+'"]').closest("li");a.addClass("active"),i.addClass("active"),o.removeClass("active"),s.removeClass("active"),a.each(function(e,a){var r=$(a);t.resize(r.closest(t.cls)),t.resetDecorationPos(r)}),o.each(function(e,a){var r=$(a);r.siblings(".active").length||t.resetDecorationPos(r)})}).on("click",".tabs-prev-control:not(.disabled)",function(e){var a=$(e.currentTarget),r=a.siblings(".tabs-wrap"),i=t.isVertical(a),s="outerWidth";i&&(s="outerHeight");var n=r[s]();t.resetPos(r,n,i)}).on("click",".tabs-next-control:not(.disabled)",function(e){var a=$(e.currentTarget),r=a.siblings(".tabs-wrap"),i=t.isVertical(a),s="outerWidth";i&&(s="outerHeight");var n=r[s]();t.resetPos(r,-n,i)}).on("mousewheel",".tabs-left"+e+",.tabs-right"+e,function(e){var a=$(e.currentTarget);t.resetPos(a,e.deltaY*e.deltaFactor,!0)}),$(window).resize(function(e){t.resizeAll()})},t.calcEnable=function(e,a){var r=e.parent(),i="width",s="margin-left";return t.isVertical(e)&&(i="height",s="margin-top"),a="undefined"==typeof a?parseInt(e.css(s)):a,{prev:a<0,next:r[i]()-a<e[i]()}},t.init=function(){t.bindEvent(),t.resizeAll()},t.isVertical=function(t){return t.closest(".tabs-nav-container").parent(".tabs-left,.tabs-right").length>0},t.resetAllClickable=function(){$(t.cls).each(function(e,a){t.resetClickable($(a))})},t.resetClickable=function(e,a,r){if("undefined"==typeof a||"undefined"==typeof r){var i=t.calcEnable(e);a=i.prev,r=i.next}var s=e.parent();s.siblings(".tabs-prev-control").toggleClass("disabled",!a),s.siblings(".tabs-next-control").toggleClass("disabled",!r)},t.resetDecorationPos=function(e){var a=t.isVertical(e),r="width",i="outerWidth",s="left";a&&(r="height",i="outerHeight",s="top");var n=e.siblings(".tabs-decoration");if(e.hasClass("active")){var o=e[i]();n[r](o);var l=e.position()[s];n.css(s,l)}else{var o=n[i]();n[r](0);var l=n.position()[s];n.css(s,l+o/2)}},t.resetPos=function(e,a,r){var i=e.children("ul"),s="outerWidth",n="margin-left";r&&(s="outerHeight",n="margin-top");var o=e[s](),l=i[s]()-o,c=parseInt(i.css(n)),h=c+a,m=h>-l?h:-l;m=m<0?m:0,i.css(n,m),t.resetClickable(i,0!==m,m!==-l)},t.resizeAll=function(){t.wrapAll(),$(t.cls).each(function(e,a){t.resize($(a))})},t.resize=function(e){var a="width",r="outerWidth",i="left",s="margin-"+i;t.isVertical(e)&&(a="height",r="outerHeight",i="top",s="margin-"+i);var n=0;e.children("li:not(.tabs-decoration)").each(function(t,e){n+=$(e)[r]()});var o=e.closest(".tabs-nav-container"),l=o[a]();if(o.toggleClass("show-all",l>=n),l<n){e[a](n);var c=e.children("li.active"),h=c.position()[i],m=parseInt(e.css(s));h+m<0?m=-h:h+c[r]()+m>l&&(m=l-c[r]()-h);var u=e[a]();l>u+m&&m<0&&(m=l-u),e.css(s,m);var d=t.calcEnable(e,m);t.resetClickable(e,d.prev,d.next)}},t.wrapAll=function(){$(t.cls).each(function(e,a){t.wrap($(a))})},t.wrap=function(e){if(!e.parent(".tabs-wrap").length){var a='<div class="tabs-wrap"></div>',r='<div class="tabs-nav-container"></div>',i=$('<li class="tabs-decoration"></li>'),s='<div class="tabs-control tabs-prev-control"></div><div class="tabs-control tabs-next-control"></div>';e.wrap(r).after(s).wrap(a),e.append(i),t.resetDecorationPos(e.children("li.active"))}},t.cls="",t.clsName="",t.namespace="",t}(),huTag=function(){function t(){this.cls="",this.clsName="",this.namespace="",this.namespace=huConfig.namespace,this.clsName=this.namespace+"tag",this.cls="."+this.clsName,this.init()}return t.prototype.init=function(){var t=this;$("body").on("click",this.cls+":not(.disabled) .close",function(e){$(e.currentTarget).closest(t.cls).remove()})},t}(),huUtils=function(){function t(){}return t.randomId=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),t+(new Date).getTime()+Math.ceil(1e3*Math.random())+e},t.error=function(t){console.error(t)},t.clearNullData=function(e){if(Array.isArray(e)||$.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&(e[a]=t.clearNullData(e[a]));else e=t.changeNullData(e);return e},t.changeNullData=function(t){return 0!==t&&t!==!1?t||"":t},t}();