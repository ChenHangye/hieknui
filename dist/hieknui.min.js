/**
     * @author: 
     *    jiangrun002
     * @version: 
     *    v0.1.5
     * @license:
     *    Copyright 2017, hiknowledge. All rights reserved.
     */

var huConfig={namespace:"hu-"},huBackTop=function(){function t(){this.attrName="",this.cls="",this.clsName="",this.namespace="",this.namespace=huConfig.namespace,this.attrName=this.namespace+"data-pos",this.clsName=this.namespace+"backtop",this.cls="."+this.clsName,this.init()}return t.prototype.init=function(){var t=this;$(window).scroll(function(e){var a=document.body.scrollTop||document.documentElement.scrollTop;$(t.cls).toggleClass("on",a>500)}),$("body").on("click",this.cls,function(e){var a=$(e.currentTarget).attr(t.attrName)||0;$("html,body").animate({scrollTop:a},300)})},t}(),huDropdown=function(){function t(){this.attrName="",this.cls="",this.clsName="",this.itemsCls="",this.namespace="",this.valueName="",this.namespace=huConfig.namespace,this.clsName=this.namespace+"dropdown",this.cls="."+this.clsName,this.attrName=this.namespace+"data-id",this.valueName=this.namespace+"data-value",this.itemsCls="."+this.namespace+"dropdown-items",this.init()}return t.prototype.init=function(){var t=this;$("body").on("click",this.cls+":not(.disabled)>span",function(e){var a=$(e.currentTarget),i=a.attr(t.attrName);i||(i=t.namespace+huUtils.randomId(),a.attr(t.attrName,i),a.siblings(t.itemsCls).attr(t.attrName,i).appendTo("body"));var s=a.offset(),n=s.left,l=s.top+a.outerHeight()+4;$(t.itemsCls+"["+t.attrName+'="'+i+'"]').css({top:l,left:n,width:a.outerWidth()}).toggleClass("on")}).on("click",this.itemsCls+">li:not(.disabled)",function(t){var e=$(t.currentTarget);e.addClass("active").siblings(".active").removeClass("active")}).on("click",function(e){$(e.target).closest(t.cls).length||$(".on"+t.itemsCls).removeClass("on")})},t}();$(function(){new huTabs,new huDropdown,new huSelect,new huTag,new huBackTop});var huPagination=function(){function t(t){if(this.attrName="",this.cls="",this.clsName="",this.defaultConfig={callback:$.noop,cls:"",current:1,jumpEnable:!1,prevNextEnable:!1,prevNextMultiEnable:!1,selector:"",showNum:9,startEndEnable:!0,totalItemShow:!1},this.namespace="",this.config=$.extend(!0,{},this.defaultConfig,t),this.config.total||(this.config.totalItem&&this.config.pageSize?this.config.total=Math.ceil(this.config.totalItem/this.config.pageSize):huUtils.error("total或totalItem与pageSize不能同时为空")),this.config.selector){if(this.namespace=huConfig.namespace,this.clsName=this.namespace+"pagination",this.attrName=this.namespace+"page",this.cls="."+this.clsName,this.$container=$(this.config.selector),this.$container.is("ul"))this.$container.hasClass(this.clsName)||this.$container.addClass(this.clsName);else{var e='<ul class="'+this.clsName+'"></ul>';this.$container.html(e),this.$container=this.$container.find(this.cls)}this.$container.addClass(this.config.cls),this.init()}else huUtils.error("selector不能为空")}return t.prototype.init=function(){this.buildHTML(),this.bindEvent()},t.prototype.buildHTML=function(){var t=this.config.total,e=Math.floor(this.config.current),a="";if(0==t)a="";else if(t<e)a="",huUtils.error("当前页数不能大于总页数");else{var i=this.config.showNum,s=(this.config.showNum-1)/2,n=1,l=t,c=this.config.prevNextEnable,r=this.config.prevNextMultiEnable,o=this.config.startEndEnable,h=this.config.jumpEnable,m=this.config.totalItemShow;l>i&&(e-s>1&&(n=Math.ceil(e-s)),l-e<s?n=l-i+1:l=n+i-1);var u=1!=e,p=u?"":"disabled",f=e!=t,d=f?"":"disabled";m&&(a+='<li class="page-total">共计'+this.config.totalItem+"个</li>"),o&&(a+='<li class="page-item page-first '+p+'" '+this.attrName+'="1" title="首页"></li>'),r&&(a+='<li class="page-item page-prev-multi '+p+'" '+this.attrName+'="'+(e-i<1?1:e-i)+'" title="往前翻'+i+'页"></li>'),c&&(a+='<li class="page-item page-prev '+p+'" '+this.attrName+'="'+(e-1<1?1:e-1)+'" title="上一页"></li>');for(var g=n;g<=l;g++)a+='<li class="page-item '+(g==e?"active":"")+'" '+this.attrName+'="'+g+'">'+g+"</li>";c&&(a+='<li class="page-item page-next '+d+'" '+this.attrName+'="'+(e+1>t?t:e+1)+'" title="下一页"></li>'),r&&(a+='<li class="page-item page-next-multi '+d+'" '+this.attrName+'="'+(e+i>t?t:e+i)+'" title="往后翻'+i+'页"></li>'),o&&(a+='<li class="page-item page-last '+d+'" '+this.attrName+'="'+t+'" title="末页"></li>'),h&&(a+='<li class="page-jump"><span>跳转到</span><input type="number" min="1" max="'+t+'" step="1" class="'+this.namespace+'input" value="'+e+'"><span>页</span></li>')}this.$container.html(a)},t.prototype.bindEvent=function(){var t=this;this.$container.off(),this.$container.on("click","li:not(.disabled)["+this.attrName+"]",{eventData:this.config.data},function(e){var a=e.data.eventData,i=$(e.currentTarget).attr(t.attrName);t.config.callback(e,i,a)}),this.$container.on("click","li.page-jump button",{eventData:this.config.data},function(e){var a=e.data.eventData,i=$(e.currentTarget).prev("input").val();t.goTo(e,i,a)}),this.$container.on("keyup","li.page-jump input",{eventData:this.config.data},function(e){var a=$(e.currentTarget).val(),i=/^[0-9]*$/;if(""==a);else if(i.test(a+""))a>t.config.total?$(e.currentTarget).val(t.config.total):a<1&&$(e.currentTarget).val(1);else{var s=$(e.currentTarget).data("data");$(e.currentTarget).val(s)}}),this.$container.on("keydown","li.page-jump input",{eventData:this.config.data},function(e){var a=e.keyCode||e.which||e.charCode,i=$(e.currentTarget).val();if(13==a){var s=e.data.eventData;t.goTo(e,i,s)}else $(e.currentTarget).data("data",i)})},t.prototype.goTo=function(t,e,a){e<=this.config.total&&e>0?this.config.callback(t,e,a):huUtils.error("跳转页不存在")},t}(),huSelect=function(){function t(){this.attrName="",this.cls="",this.clsName="",this.itemsCls="",this.namespace="",this.valueName="",this.namespace=huConfig.namespace,this.clsName=this.namespace+"select",this.cls="."+this.clsName,this.attrName=this.namespace+"data-id",this.valueName=this.namespace+"data-value",this.itemsCls="."+this.namespace+"select-items",this.init()}return t.prototype.init=function(){var t=this;$("body").on("click",this.cls+":not(.disabled)>span",function(e){var a=$(e.currentTarget),i=a.attr(t.attrName);i||(i=t.namespace+huUtils.randomId(),a.attr(t.attrName,i),a.siblings(t.itemsCls).attr(t.attrName,i).appendTo("body"));var s=a.offset(),n=s.left,l=s.top+a.outerHeight()+4;$(t.itemsCls+"["+t.attrName+'="'+i+'"]').css({top:l,left:n,width:a.outerWidth()}).toggleClass("on")}).on("click",this.itemsCls+">li:not(.disabled)",function(e){var a=$(e.currentTarget);a.addClass("active").siblings(".active").removeClass("active");var i=a.parent().attr(t.attrName),s=a.attr(t.valueName),n=a.text();$(t.cls+" span["+t.attrName+'="'+i+'"]').text(n).attr(t.valueName,s)}).on("click",function(e){$(e.target).closest(t.cls).length||$(".on"+t.itemsCls).removeClass("on")})},t}(),huTabs=function(){function t(){t.namespace=huConfig.namespace,t.clsName=t.namespace+"tabs",t.navContainerClsName=t.clsName+"-nav-container",t.wrapClsName=t.clsName+"-wrap",t.cls="."+t.clsName,t.init()}return t.bindEvent=function(){$("body").on("click",t.cls+">li:not(.disabled)",function(e){var a=$(e.currentTarget),i=a.find("a").attr("href");a=$('a[href="'+i+'"]').closest("li");var s=$(i),n=s.siblings(".active"),l="#"+n.attr("id"),c=$('a[href="'+l+'"]').closest("li");a.addClass("active"),s.addClass("active"),c.removeClass("active"),n.removeClass("active"),a.each(function(e,a){t.resize($(a).closest(t.cls))})}).on("click",".tabs-prev-control:not(.disabled)",function(e){var a=$(e.currentTarget),i=a.siblings("."+t.wrapClsName),s=i.children("ul"),n="outerWidth",l="margin-left";t.isVertical(a)&&(n="outerHeight",l="margin-top");var c=parseInt(s.css(l)),r=i[n](),o=c+r,h=o<0?o:0;s.css(l,h),t.resetClickable(s,0!==h,!0)}).on("click",".tabs-next-control:not(.disabled)",function(e){var a=$(e.currentTarget),i=a.siblings("."+t.wrapClsName),s=i.children("ul"),n="outerWidth",l="margin-left";t.isVertical(a)&&(n="outerHeight",l="margin-top");var c=parseInt(s.css(l)),r=i[n](),o=s[n]()-r,h=c-r,m=h>-o?h:-o;s.css(l,m),t.resetClickable(s,!0,m!==-o)}),$(window).resize(function(e){t.resizeAll()})},t.calcEnable=function(e,a){var i=e.parent(),s="width",n="margin-left";return t.isVertical(e)&&(s="height",n="margin-top"),a="undefined"==typeof a?parseInt(e.css(n)):a,{prev:a<0,next:i[s]()-a<e[s]()}},t.init=function(){t.bindEvent(),t.resizeAll()},t.isVertical=function(e){return e.closest("."+t.navContainerClsName).parent(".tabs-left,.tabs-right").length},t.resetAllClickable=function(){$(t.cls).each(function(e,a){t.resetClickable($(a))})},t.resetClickable=function(e,a,i){if("undefined"==typeof a||"undefined"==typeof i){var s=t.calcEnable(e);a=s.prev,i=s.next}var n=e.parent();n.siblings(".tabs-prev-control").toggleClass("disabled",!a),n.siblings(".tabs-next-control").toggleClass("disabled",!i)},t.resizeAll=function(){t.wrapAll(),$(t.cls).each(function(e,a){t.resize($(a))})},t.resize=function(e){var a="width",i="outerWidth",s="left",n="margin-"+s;t.isVertical(e)&&(a="height",i="outerHeight",s="top",n="margin-"+s);var l=0;e.children("li").each(function(t,e){l+=$(e)[i]()});var c=e.closest("."+t.navContainerClsName),r=c[a]();if(c.toggleClass("show-all",r>=l),r<l){e[a](l);var o=e.children("li.active"),h=o.position()[s],m=parseInt(e.css(n));h+m<0?m=-h:h+o[i]()+m>r&&(m=r-o[i]()-h);var u=e[a]();r>u+m&&m<0&&(m=r-u),e.css(n,m);var p=t.calcEnable(e,m);t.resetClickable(e,p.prev,p.next)}},t.wrapAll=function(){$(t.cls).each(function(e,a){t.wrap($(a))})},t.wrap=function(e){if(!e.parent("."+t.wrapClsName).length){var a='<div class="'+t.wrapClsName+'"></div>',i='<div class="'+t.navContainerClsName+'"></div>',s='<div class="tabs-control tabs-prev-control"></div><div class="tabs-control tabs-next-control"></div>';e.wrap(i).after(s).wrap(a)}},t.cls="",t.clsName="",t.namespace="",t.navContainerClsName="",t.wrapClsName="",t}(),huTag=function(){function t(){this.cls="",this.clsName="",this.namespace="",this.namespace=huConfig.namespace,this.clsName=this.namespace+"tag",this.cls="."+this.clsName,this.init()}return t.prototype.init=function(){var t=this;$("body").on("click",this.cls+":not(.disabled) .close",function(e){$(e.currentTarget).closest(t.cls).remove()})},t}(),huUtils=function(){function t(){}return t.randomId=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),t+(new Date).getTime()+Math.ceil(1e3*Math.random())+e},t.error=function(t){console.error(t)},t}();